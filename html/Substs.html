<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Substs</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Substs</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Problems.html#"><span class="id" title="library">Problems</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="look_up"><span class="id" title="definition">look_up</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a>) (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">S</span>}: <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a>         =&gt; <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">S0</span>  =&gt; <span class="id" title="keyword">if</span> <span class="id" title="var">Y</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="keyword">then</span> <span class="id" title="var">t</span> <span class="id" title="keyword">else</span> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="var">S0</span>)<br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="subs"><span class="id" title="definition">subs</span></a> (<span class="id" title="var">t</span>: <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">t</span>} : <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span>  <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Terms.html#5eae5cb9b059b90d1b541d88816886dd"><span class="id" title="notation">&lt;&lt;&gt;&gt;</span></a>       =&gt; <a class="idref" href="Terms.html#5eae5cb9b059b90d1b541d88816886dd"><span class="id" title="notation">&lt;&lt;&gt;&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Terms.html#ea0c20623ade3fce78550be09a7b37cc"><span class="id" title="notation">%</span></a> <span class="id" title="var">a</span>        =&gt; <a class="idref" href="Terms.html#ea0c20623ade3fce78550be09a7b37cc"><span class="id" title="notation">%</span></a> <span class="id" title="var">a</span>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Terms.html#648ab9f94c023f8f1fd9d39972ac6713"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="Terms.html#648ab9f94c023f8f1fd9d39972ac6713"><span class="id" title="notation">]^</span></a><span class="id" title="var">t1</span>     =&gt; <a class="idref" href="Terms.html#648ab9f94c023f8f1fd9d39972ac6713"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="Terms.html#648ab9f94c023f8f1fd9d39972ac6713"><span class="id" title="notation">]^(</span></a><a class="idref" href="Substs.html#subs"><span class="id" title="definition">subs</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Terms.html#648ab9f94c023f8f1fd9d39972ac6713"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">&lt;|</span></a><span class="id" title="var">t1</span><a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">,</span></a><span class="id" title="var">t2</span><a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">|&gt;</span></a>  =&gt; <a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">&lt;|(</span></a><a class="idref" href="Substs.html#subs"><span class="id" title="definition">subs</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">),(</span></a><a class="idref" href="Substs.html#subs"><span class="id" title="definition">subs</span></a> <span class="id" title="var">t2</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">)|&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Terms.html#Fc"><span class="id" title="constructor">Fc</span></a> <span class="id" title="var">E</span> <span class="id" title="var">n</span> <span class="id" title="var">t1</span>    =&gt; <a class="idref" href="Terms.html#Fc"><span class="id" title="constructor">Fc</span></a> <span class="id" title="var">E</span> <span class="id" title="var">n</span> (<a class="idref" href="Substs.html#subs"><span class="id" title="definition">subs</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">p</span><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span>        =&gt; <span class="id" title="var">p</span> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">&quot;</span></a>t |^ S" := (<a class="idref" href="Substs.html#subs"><span class="id" title="definition">subs</span></a> <span class="id" title="var">t</span> <span class="id" title="var">S</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 67).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="In_dom"><span class="id" title="definition">In_dom</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a>) (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) :=  <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> .<br/>
<span class="id" title="keyword">Notation</span> <a name="051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">&quot;</span></a>X € S" := (<a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 67).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S</span>) (<a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a>.<br/>
&nbsp;<span class="id" title="tactic">right</span>~. <span class="id" title="tactic">left</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="alist_rec"><span class="id" title="definition">alist_rec</span></a> (<span class="id" title="var">S1</span> <span class="id" title="var">S2</span>: <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">F</span>: <a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a>          =&gt;  <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">S0</span>  =&gt;  <a class="idref" href="Substs.html#F"><span class="id" title="variable">F</span></a> <span class="id" title="var">X</span> <span class="id" title="var">t</span> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> (<a class="idref" href="Substs.html#alist_rec"><span class="id" title="definition">alist_rec</span></a> <span class="id" title="var">S0</span> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Substs.html#F"><span class="id" title="variable">F</span></a>)<br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="F_rec"><span class="id" title="definition">F_rec</span></a> (<span class="id" title="var">S1</span>: <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) (<span class="id" title="var">X</span>:<a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a>) (<span class="id" title="var">t</span>:<a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">S2</span> <span class="id" title="var">S3</span>: <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Substs.html#S3"><span class="id" title="variable">S3</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="Subst_comp"><span class="id" title="definition">Subst_comp</span></a> (<span class="id" title="var">S1</span> <span class="id" title="var">S2</span>: <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) := <a class="idref" href="Substs.html#alist_rec"><span class="id" title="definition">alist_rec</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> (<a class="idref" href="Substs.html#F_rec"><span class="id" title="definition">F_rec</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a name="f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">&quot;</span></a>S1 © S2" := (<a class="idref" href="Substs.html#Subst_comp"><span class="id" title="definition">Subst_comp</span></a> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 67).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="subs_fresh_constraints"><span class="id" title="definition">subs_fresh_constraints</span></a> (<span class="id" title="var">C</span> : <span class="id" title="keyword">Context</span>) (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) : <a class="idref" href="Problems.html#Problem"><span class="id" title="definition">Problem</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">C0</span> =&gt; <span class="id" title="keyword">if</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">X</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="Problems.html#Constraint_eqdec"><span class="id" title="lemma">Constraint_eqdec</span></a> (<span class="id" title="var">a</span><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">#?(</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Substs.html#subs_fresh_constraints"><span class="id" title="definition">subs_fresh_constraints</span></a> <span class="id" title="var">C0</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Substs.html#subs_fresh_constraints"><span class="id" title="definition">subs_fresh_constraints</span></a> <span class="id" title="var">C0</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="551273a97148152a3455afc6e47327f1"><span class="id" title="notation">&quot;</span></a>C /? S" := (<a class="idref" href="Substs.html#subs_fresh_constraints"><span class="id" title="definition">subs_fresh_constraints</span></a> <span class="id" title="var">C</span> <span class="id" title="var">S</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 67).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="subs_Constraint"><span class="id" title="definition">subs_Constraint</span></a> (<span class="id" title="var">u</span> : <a class="idref" href="Problems.html#Constraint"><span class="id" title="inductive">Constraint</span></a>) (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) : <a class="idref" href="Problems.html#Constraint"><span class="id" title="inductive">Constraint</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">a</span><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">#?</span></a><span class="id" title="var">t</span> =&gt; <span class="id" title="var">a</span><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">#?(</span></a><span class="id" title="var">t</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">~?</span></a><span class="id" title="var">t</span> =&gt; <span class="id" title="var">s</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">~?(</span></a><span class="id" title="var">t</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="subs_Problem"><span class="id" title="definition">subs_Problem</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="Problems.html#Problem"><span class="id" title="definition">Problem</span></a>) (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) : <a class="idref" href="Problems.html#Problem"><span class="id" title="definition">Problem</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">#?</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::</span></a><span class="id" title="var">P0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">#?(</span></a><span class="id" title="var">t</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::(</span></a><a class="idref" href="Substs.html#subs_Problem"><span class="id" title="definition">subs_Problem</span></a> <span class="id" title="var">P0</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">~?</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::</span></a><span class="id" title="var">P0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">)~?(</span></a><span class="id" title="var">t</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::(</span></a><a class="idref" href="Substs.html#subs_Problem"><span class="id" title="definition">subs_Problem</span></a> <span class="id" title="var">P0</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">&quot;</span></a>P |^^ S" := (<a class="idref" href="Substs.html#subs_Problem"><span class="id" title="definition">subs_Problem</span></a> <span class="id" title="var">P</span> <span class="id" title="var">S</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 67).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fresh_env"><span class="id" title="definition">fresh_env</span></a> (<span class="id" title="var">C</span> <span class="id" title="var">C'</span> : <span class="id" title="keyword">Context</span>) (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) :=<br/>
<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">X</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C'"><span class="id" title="variable">C'</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">#</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">)</span></a> .<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="subs_equiv"><span class="id" title="definition">subs_equiv</span></a> (<span class="id" title="var">C</span>: <span class="id" title="keyword">Context</span>) (<span class="id" title="var">E</span> : <span class="id" title="keyword">Context</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">S</span> <span class="id" title="var">S'</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) :=<br/>
<span class="id" title="keyword">forall</span> <span class="id" title="var">X</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S'"><span class="id" title="variable">S'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S'"><span class="id" title="variable">S'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="subst_dom_vars"><span class="id" title="definition">subst_dom_vars</span></a> (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a>   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">S0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> <span class="id" title="var">X</span> (<a class="idref" href="Substs.html#subst_dom_vars"><span class="id" title="definition">subst_dom_vars</span></a> <span class="id" title="var">S0</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="dom_rec_aux"><span class="id" title="definition">dom_rec_aux</span></a> (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) (<span class="id" title="var">St</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">St0</span> =&gt; <span class="id" title="keyword">if</span> (<a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) (<a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span>)) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Substs.html#dom_rec_aux"><span class="id" title="definition">dom_rec_aux</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="var">St0</span>) <span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> <span class="id" title="var">X</span> (<a class="idref" href="Substs.html#dom_rec_aux"><span class="id" title="definition">dom_rec_aux</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="var">St0</span>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dom_rec"><span class="id" title="definition">dom_rec</span></a> (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) := <a class="idref" href="Substs.html#dom_rec_aux"><span class="id" title="definition">dom_rec_aux</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> (<a class="idref" href="Substs.html#subst_dom_vars"><span class="id" title="definition">subst_dom_vars</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="im_rec_aux"><span class="id" title="definition">im_rec_aux</span></a> (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) (<span class="id" title="var">St</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">St0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::(</span></a><a class="idref" href="Substs.html#im_rec_aux"><span class="id" title="definition">im_rec_aux</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="var">St0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="im_rec"><span class="id" title="definition">im_rec</span></a> (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) := <a class="idref" href="Substs.html#im_rec_aux"><span class="id" title="definition">im_rec_aux</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> (<span class="id" title="var">T</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#Var"><span class="id" title="inductive">Var</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">T0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> <span class="id" title="var">T0</span>)        <br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="im_vars"><span class="id" title="definition">im_vars</span></a> (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) := <a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> (<a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="set_Subst"><span class="id" title="definition">set_Subst</span></a>  (<span class="id" title="var">T</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">S</span> : <a class="idref" href="Problems.html#Subst"><span class="id" title="definition">Subst</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="Terms.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Substs.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">T0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::(</span></a><a class="idref" href="Substs.html#set_Subst"><span class="id" title="definition">set_Subst</span></a> <span class="id" title="var">T0</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Lemmas 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_perm_comm"><span class="id" title="lemma">subst_perm_comm</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">pi</span> <span class="id" title="var">t</span>, <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="var">subs</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt2</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Perm.html#perm_comp"><span class="id" title="lemma">perm_comp</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="not_In_dom"><span class="id" title="lemma">not_In_dom</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span> <span class="id" title="var">pi</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">replace</span> (<span class="id" title="var">pi</span><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">pi</span> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_perm_comm"><span class="id" title="lemma">subst_perm_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S</span>) (<a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="not_occurs"><span class="id" title="lemma">not_occurs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t1"><span class="id" title="variable">t1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#t1"><span class="id" title="variable">t1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;<span class="id" title="var">fequals</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="var">fequals</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1_1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1_2</span>]; <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="var">fequals</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">v</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="var">false</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_var_eq"><span class="id" title="lemma">subst_var_eq</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">pi</span> <span class="id" title="var">t</span>, <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_id"><span class="id" title="lemma">subst_id</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt2</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_comp_id_left"><span class="id" title="lemma">subst_comp_id_left</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#Subst_comp"><span class="id" title="definition">Subst_comp</span></a>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_comp_id_right"><span class="id" title="lemma">subst_comp_id_right</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#Subst_comp"><span class="id" title="definition">Subst_comp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">S</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#F_rec"><span class="id" title="definition">F_rec</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_id"><span class="id" title="lemma">subst_id</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="look_up_comp_expand"><span class="id" title="lemma">look_up_comp_expand</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span>, <a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">S1</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_comp_id_left"><span class="id" title="lemma">subst_comp_id_left</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">v</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span>, <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt2</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_perm_comm"><span class="id" title="lemma">subst_perm_comm</span></a>.<br/>
&nbsp;<span class="id" title="var">fequals</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#look_up_comp_expand"><span class="id" title="lemma">look_up_comp_expand</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_comp_assoc"><span class="id" title="lemma">subst_comp_assoc</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">S3</span> <span class="id" title="var">t</span>, <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S3"><span class="id" title="variable">S3</span></a><a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">)</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S3"><span class="id" title="variable">S3</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> 4 <a class="idref" href="Substs.html#subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fresh_subst"><span class="id" title="lemma">fresh_subst</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C1</span> <span class="id" title="var">C2</span> <span class="id" title="var">S</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span>,<br/>
<a class="idref" href="Substs.html#C1"><span class="id" title="variable">C1</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">#</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="Substs.html#fresh_env"><span class="id" title="definition">fresh_env</span></a> <a class="idref" href="Substs.html#C1"><span class="id" title="variable">C1</span></a> <a class="idref" href="Substs.html#C2"><span class="id" title="variable">C2</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C2"><span class="id" title="variable">C2</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">#</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Fresh.html#fresh_lemma_2"><span class="id" title="lemma">fresh_lemma_2</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_eq_var"><span class="id" title="lemma">subst_eq_var</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>, <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">v</span>); <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">split</span>~. <span class="id" title="var">inverts</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dom_rec_aux_to_In_dom"><span class="id" title="lemma">dom_rec_aux_to_In_dom</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span> <span class="id" title="var">St</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#dom_rec_aux"><span class="id" title="definition">dom_rec_aux</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">St</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">a</span> <span class="id" title="var">S</span>) (<a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">)|.</span></a><span class="id" title="var">a</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_elim"><span class="id" title="lemma">set_add_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_dom_to_dom_rec_aux"><span class="id" title="lemma">In_dom_to_dom_rec_aux</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span> <span class="id" title="var">St</span>,                             <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#dom_rec_aux"><span class="id" title="definition">dom_rec_aux</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">St</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>|-*; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">a</span> <span class="id" title="var">S</span>) (<a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">)|.</span></a><span class="id" title="var">a</span>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro2"><span class="id" title="lemma">set_add_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro1"><span class="id" title="lemma">set_add_intro1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_dom_to_subst_dom_vars"><span class="id" title="lemma">In_dom_to_subst_dom_vars</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#subst_dom_vars"><span class="id" title="definition">subst_dom_vars</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">S</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">gen</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">v</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro2"><span class="id" title="lemma">set_add_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro1"><span class="id" title="lemma">set_add_intro1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHS</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_dom_eq_dom_rec"><span class="id" title="lemma">In_dom_eq_dom_rec</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span>, <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>~; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_dom_to_dom_rec_aux"><span class="id" title="lemma">In_dom_to_dom_rec_aux</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_dom_to_subst_dom_vars"><span class="id" title="lemma">In_dom_to_subst_dom_vars</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#dom_rec_aux_to_In_dom"><span class="id" title="lemma">dom_rec_aux_to_In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_dom_to_im_rec"><span class="id" title="lemma">In_dom_to_im_rec</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span>, <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) (<a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_dom_eq_dom_rec"><span class="id" title="lemma">In_dom_eq_dom_rec</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a>. <span class="id" title="tactic">induction</span> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H'</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>~. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="im_rec_to_In_dom"><span class="id" title="lemma">im_rec_to_In_dom</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">S</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">exists</span></a> <span class="id" title="var">X</span><a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">,</span></a> <span class="id" title="var">X</span> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Substs.html#In_dom_eq_dom_rec"><span class="id" title="lemma">In_dom_eq_dom_rec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">split</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dom_comp_add1"><span class="id" title="lemma">dom_comp_add1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">t</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>, <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">\/</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">Y</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>~. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#not_occurs"><span class="id" title="lemma">not_occurs</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dom_comp_add2"><span class="id" title="lemma">dom_comp_add2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">t</span> <span class="id" title="var">X</span>, <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#not_In_dom"><span class="id" title="lemma">not_In_dom</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">pi</span>:=<a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#look_up_comp_expand"><span class="id" title="lemma">look_up_comp_expand</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dom_comp_add3"><span class="id" title="lemma">dom_comp_add3</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">t</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>,  <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">)</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subst_eq_var"><span class="id" title="lemma">subst_eq_var</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dom_comp_add_gen"><span class="id" title="lemma">dom_comp_add_gen</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">t</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>,  <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">\/</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Substs.html#051cd2d729db40a19f112a549f9eab15"><span class="id" title="notation">€</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>~; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#dom_comp_add1"><span class="id" title="lemma">dom_comp_add1</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#dom_comp_add2"><span class="id" title="lemma">dom_comp_add2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#dom_comp_add3"><span class="id" title="lemma">dom_comp_add3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="var_in_dom_rec_singleton"><span class="id" title="lemma">var_in_dom_rec_singleton</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> (<a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> <span class="id" title="var">t</span> (<a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">)|.</span></a><span class="id" title="var">X</span>)); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_im_subst_term"><span class="id" title="lemma">In_im_subst_term</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> (<a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs2</span>]; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">v</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Perm.html#perm_term_vars"><span class="id" title="lemma">perm_term_vars</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_im_subst_term'"><span class="id" title="lemma">In_im_subst_term'</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>,   <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> (<a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a>) (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">v</span>); <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Perm.html#perm_term_vars"><span class="id" title="lemma">perm_term_vars</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_subst_terms_im_1"><span class="id" title="lemma">In_subst_terms_im_1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> (<a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a>))  .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_1"><span class="id" title="lemma">set_remove_1</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_2"><span class="id" title="lemma">set_remove_2</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs2</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">v</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Perm.html#perm_term_vars"><span class="id" title="lemma">perm_term_vars</span></a>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_term_vars"><span class="id" title="lemma">NoDup_term_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_subst_terms_im_2"><span class="id" title="lemma">In_subst_terms_im_2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> (<a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs2</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Perm.html#perm_term_vars"><span class="id" title="lemma">perm_term_vars</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_subst_terms_im"><span class="id" title="lemma">In_subst_terms_im</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> (<a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)</span></a>))  .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_terms_im_1"><span class="id" title="lemma">In_subst_terms_im_1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_terms_im_2"><span class="id" title="lemma">In_subst_terms_im_2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_im_subst_terms_set"><span class="id" title="lemma">In_im_subst_terms_set</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">T</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> (<a class="idref" href="Substs.html#set_Subst"><span class="id" title="definition">set_Subst</span></a> <a class="idref" href="Substs.html#T"><span class="id" title="variable">T</span></a> (<a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term"><span class="id" title="lemma">In_im_subst_term</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHT</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_im_subst_terms_set'"><span class="id" title="lemma">In_im_subst_terms_set'</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">T</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> (<a class="idref" href="Substs.html#set_Subst"><span class="id" title="definition">set_Subst</span></a> <a class="idref" href="Substs.html#T"><span class="id" title="variable">T</span></a> (<a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> <a class="idref" href="Substs.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">Y</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term"><span class="id" title="lemma">In_im_subst_term</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term'"><span class="id" title="lemma">In_im_subst_term'</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHT</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="terms_set_vars_add"><span class="id" title="lemma">terms_set_vars_add</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">St</span> <span class="id" title="var">t</span> <span class="id" title="var">X</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">St</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>~; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> <span class="id" title="var">t</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">split</span>~; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>~; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="terms_set_vars_subset"><span class="id" title="lemma">terms_set_vars_subset</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">St0</span> <span class="id" title="var">St1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">s</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Substs.html#St0"><span class="id" title="variable">St0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Substs.html#St1"><span class="id" title="variable">St1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">X</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> <a class="idref" href="Substs.html#St0"><span class="id" title="variable">St0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> <a class="idref" href="Substs.html#St1"><span class="id" title="variable">St1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">St0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <span class="id" title="var">a</span> <span class="id" title="var">St1</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">IHSt0</span> <span class="id" title="var">St0</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">St1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt0</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_terms_vars_set"><span class="id" title="lemma">In_terms_vars_set</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">X</span> <span class="id" title="var">St</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#terms_set_vars"><span class="id" title="definition">terms_set_vars</span></a> <a class="idref" href="Substs.html#St"><span class="id" title="variable">St</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">St</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>|-*. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHSt</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_im_comp_add"><span class="id" title="lemma">In_im_comp_add</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">X</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a> (<a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Substs.html#set_Subst"><span class="id" title="definition">set_Subst</span></a> (<a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) (<a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#im_rec_to_In_dom"><span class="id" title="lemma">im_rec_to_In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Y</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#dom_comp_add1"><span class="id" title="lemma">dom_comp_add1</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#not_In_dom"><span class="id" title="lemma">not_In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_var_eq"><span class="id" title="lemma">subst_var_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro2"><span class="id" title="lemma">set_add_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#In_dom_eq_dom_rec"><span class="id" title="lemma">In_dom_eq_dom_rec</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#In_dom_eq_dom_rec"><span class="id" title="lemma">In_dom_eq_dom_rec</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro1"><span class="id" title="lemma">set_add_intro1</span></a>. <span class="id" title="tactic">induction</span> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">contradiction</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHs0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="im_vars_comp_add1"><span class="id" title="lemma">im_vars_comp_add1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">t</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a> (<a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a>  (<a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a> <span class="id" title="keyword">in</span> *|-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#terms_set_vars_subset"><span class="id" title="lemma">terms_set_vars_subset</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">St1</span>:= <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> <span class="id" title="var">t</span> (<a class="idref" href="Substs.html#set_Subst"><span class="id" title="definition">set_Subst</span></a> (<a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a> <span class="id" title="var">S</span>) (<a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>))) <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#terms_set_vars_add"><span class="id" title="lemma">terms_set_vars_add</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_terms_set'"><span class="id" title="lemma">In_im_subst_terms_set'</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_comp_add"><span class="id" title="lemma">In_im_comp_add</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="im_vars_comp_add2"><span class="id" title="lemma">im_vars_comp_add2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">S</span> <span class="id" title="var">t</span> <span class="id" title="var">X</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a> (<a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#terms_set_vars_subset"><span class="id" title="lemma">terms_set_vars_subset</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">St1</span>:= <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add"><span class="id" title="definition">set_add</span></a> <a class="idref" href="Terms.html#term_eqdec"><span class="id" title="lemma">term_eqdec</span></a> <span class="id" title="var">t</span> (<a class="idref" href="Substs.html#set_Subst"><span class="id" title="definition">set_Subst</span></a> (<a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a> <span class="id" title="var">S</span>) (<a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>))) <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#terms_set_vars_add"><span class="id" title="lemma">terms_set_vars_add</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_terms_set"><span class="id" title="lemma">In_im_subst_terms_set</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_comp_add"><span class="id" title="lemma">In_im_comp_add</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="inter_dom_term_vars"><span class="id" title="lemma">inter_dom_term_vars</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">S</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter"><span class="id" title="definition">set_inter</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt2</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#set_inter_nil"><span class="id" title="lemma">set_inter_nil</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#set_inter_nil"><span class="id" title="lemma">set_inter_nil</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span>:=<span class="id" title="var">a</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter_elim"><span class="id" title="lemma">set_inter_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter_intro"><span class="id" title="lemma">set_inter_intro</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#set_inter_nil"><span class="id" title="lemma">set_inter_nil</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#set_inter_nil"><span class="id" title="lemma">set_inter_nil</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span>:=<span class="id" title="var">a</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter_elim"><span class="id" title="lemma">set_inter_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter_intro"><span class="id" title="lemma">set_inter_intro</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHt</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">p</span> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">v</span> <span class="id" title="var">S</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">v</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#not_In_dom"><span class="id" title="lemma">not_In_dom</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#set_inter_nil"><span class="id" title="lemma">set_inter_nil</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span>:=<span class="id" title="var">v</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter_intro"><span class="id" title="lemma">set_inter_intro</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>~. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_dom_eq_dom_rec"><span class="id" title="lemma">In_dom_eq_dom_rec</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">&quot;</span></a>C |- S ~:c S'" := (<a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a> <span class="id" title="var">C</span> (<a class="idref" href="Equiv.html#equiv"><span class="id" title="inductive">equiv</span></a> (<a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a>2<a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a>)) <span class="id" title="var">S</span> <span class="id" title="var">S'</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 67).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="c_equiv_subst"><span class="id" title="lemma">c_equiv_subst</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C1</span> <span class="id" title="var">C2</span> <span class="id" title="var">S</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <br/>
<a class="idref" href="Substs.html#C1"><span class="id" title="variable">C1</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">~</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#fresh_env"><span class="id" title="definition">fresh_env</span></a> <a class="idref" href="Substs.html#C1"><span class="id" title="variable">C1</span></a> <a class="idref" href="Substs.html#C2"><span class="id" title="variable">C2</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C2"><span class="id" title="variable">C2</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">|-</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">)</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">~</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">c</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHequiv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHequiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Equiv.html#c_equiv_Fc"><span class="id" title="lemma">c_equiv_Fc</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_perm_comm"><span class="id" title="lemma">subst_perm_comm</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">IHequiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Equiv.html#equiv_Ab_2"><span class="id" title="constructor">equiv_Ab_2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHequiv</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#fresh_subst"><span class="id" title="lemma">fresh_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">C1</span> := <span class="id" title="var">C</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_pi'"><span class="id" title="lemma">c_equiv_pi'</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#fresh_subst"><span class="id" title="lemma">fresh_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">C1</span> := <span class="id" title="var">C</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Fresh.html#fresh_Su"><span class="id" title="constructor">fresh_Su</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="c_equiv_unif"><span class="id" title="lemma">c_equiv_unif</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span> <span class="id" title="var">pi</span> <span class="id" title="var">t</span>,<br/>
<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">~</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">c</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="Perm.html#d799ab163947a6149703915b46efaa7d"><span class="id" title="notation">!</span></a><a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a><a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Y</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">X</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">Y</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H''</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_perm_comm"><span class="id" title="lemma">subst_perm_comm</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_pi_inv_side"><span class="id" title="lemma">c_equiv_pi_inv_side</span></a>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H''</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_sym"><span class="id" title="lemma">c_equiv_sym</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_refl"><span class="id" title="lemma">c_equiv_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="c_equiv_look_up"><span class="id" title="lemma">c_equiv_look_up</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">X</span>,  <br/>
<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">~</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfolds</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Perm.html#perm_id"><span class="id" title="lemma">perm_id</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S1</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S2</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">right</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S1</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S2</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Substs.html#not_In_dom"><span class="id" title="lemma">not_In_dom</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_refl"><span class="id" title="lemma">c_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_c_equiv"><span class="id" title="lemma">subst_c_equiv</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">t</span>,  <br/>
<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">~</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">c</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">)</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Equiv.html#c_equiv_Fc"><span class="id" title="lemma">c_equiv_Fc</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_equivariance"><span class="id" title="lemma">c_equiv_equivariance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#c_equiv_look_up"><span class="id" title="lemma">c_equiv_look_up</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="c_equiv_unif_2"><span class="id" title="lemma">c_equiv_unif_2</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>, <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">~</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">c</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">~</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">c</span></a> <a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><a class="idref" href="Equiv.html#79a6bb5d0d32a289516665e75772a8e6"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_trans"><span class="id" title="lemma">c_equiv_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t2</span>:=<span class="id" title="var">t1</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><span class="id" title="var">S1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_sym"><span class="id" title="lemma">c_equiv_sym</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subst_c_equiv"><span class="id" title="lemma">subst_c_equiv</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_trans"><span class="id" title="lemma">c_equiv_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t2</span>:=<span class="id" title="var">t2</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><span class="id" title="var">S1</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subst_c_equiv"><span class="id" title="lemma">subst_c_equiv</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="c_equiv_unif_fresh"><span class="id" title="lemma">c_equiv_unif_fresh</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span>, <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">#</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">#</span></a> <a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><a class="idref" href="Fresh.html#9741ce3b1fc26d423fb4969aceaa757f"><span class="id" title="notation">)</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subst_c_equiv"><span class="id" title="lemma">subst_c_equiv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t</span>:=<span class="id" title="var">t</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_fresh"><span class="id" title="lemma">c_equiv_fresh</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span>:=<span class="id" title="var">a</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_cancel_left"><span class="id" title="lemma">subst_cancel_left</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">S</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">)</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Substs.html#subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subst_c_equiv"><span class="id" title="lemma">subst_c_equiv</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_cancel_right"><span class="id" title="lemma">subst_cancel_right</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C1</span> <span class="id" title="var">C2</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">S</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#fresh_env"><span class="id" title="definition">fresh_env</span></a> <a class="idref" href="Substs.html#C1"><span class="id" title="variable">C1</span></a> <a class="idref" href="Substs.html#C2"><span class="id" title="variable">C2</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a>                         <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#C1"><span class="id" title="variable">C1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C2"><span class="id" title="variable">C2</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Substs.html#subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#c_equiv_subst"><span class="id" title="lemma">c_equiv_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">C1</span>:=<span class="id" title="var">C1</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subst_c_equiv"><span class="id" title="lemma">subst_c_equiv</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_assoc"><span class="id" title="lemma">subst_assoc</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">S3</span> <span class="id" title="var">S4</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S3"><span class="id" title="variable">S3</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S4"><span class="id" title="variable">S4</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S3"><span class="id" title="variable">S3</span></a><a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S4"><span class="id" title="variable">S4</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_comp_assoc"><span class="id" title="lemma">subst_comp_assoc</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>~. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Substs.html#subst_comp_assoc"><span class="id" title="lemma">subst_comp_assoc</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">right</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Substs.html#subst_comp_assoc"><span class="id" title="lemma">subst_comp_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>~. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#In_dom"><span class="id" title="definition">In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#subst_comp_assoc"><span class="id" title="lemma">subst_comp_assoc</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_refl"><span class="id" title="lemma">subst_refl</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S</span>, <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_refl"><span class="id" title="lemma">c_equiv_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_sym"><span class="id" title="lemma">subst_sym</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span>, <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_sym"><span class="id" title="lemma">c_equiv_sym</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">right</span>~. <span class="id" title="tactic">left</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_trans"><span class="id" title="lemma">subst_trans</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">S3</span>,  <br/>
&nbsp;<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S3"><span class="id" title="variable">S3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#S3"><span class="id" title="variable">S3</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a> <span class="id" title="keyword">in</span> *|-*. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Perm.html#perm_id"><span class="id" title="lemma">perm_id</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Perm.html#perm_id"><span class="id" title="lemma">perm_id</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_trans"><span class="id" title="lemma">c_equiv_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t2</span>:=<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S2</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S1</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S2</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">right</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S1</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S2</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Substs.html#not_In_dom"><span class="id" title="lemma">not_In_dom</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_refl"><span class="id" title="lemma">c_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S2</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S3</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">right</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S2</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S3</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Substs.html#not_In_dom"><span class="id" title="lemma">not_In_dom</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_refl"><span class="id" title="lemma">c_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_idem"><span class="id" title="lemma">subst_idem</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter"><span class="id" title="definition">set_inter</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a>) (<a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">|-</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">~:</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">c</span></a> <a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Substs.html#f46f4b85034b7e582469bd974b1b7b14"><span class="id" title="notation">©</span></a> <a class="idref" href="Substs.html#S2"><span class="id" title="variable">S2</span></a><a class="idref" href="Substs.html#471b5c90d4b208a748fb1e373a6c3edb"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_equiv"><span class="id" title="definition">subs_equiv</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 3 <a class="idref" href="Substs.html#subst_comp_expand"><span class="id" title="lemma">subst_comp_expand</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#inter_dom_term_vars"><span class="id" title="lemma">inter_dom_term_vars</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t</span>:=<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">)|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="C_Equiv.html#c_equiv_refl"><span class="id" title="lemma">c_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#set_inter_nil"><span class="id" title="lemma">set_inter_nil</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Y</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter_elim"><span class="id" title="lemma">set_inter_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#set_inter_nil"><span class="id" title="lemma">set_inter_nil</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span>:=<span class="id" title="var">Y</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_inter_intro"><span class="id" title="lemma">set_inter_intro</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S1</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_dom_to_im_rec"><span class="id" title="lemma">In_dom_to_im_rec</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_terms_vars_set"><span class="id" title="lemma">In_terms_vars_set</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span>:=<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">)|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><span class="id" title="var">S1</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#not_In_dom"><span class="id" title="lemma">not_In_dom</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_dom_eq_dom_rec"><span class="id" title="lemma">In_dom_eq_dom_rec</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subs_fresh_vars_im"><span class="id" title="lemma">subs_fresh_vars_im</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">C</span> <span class="id" title="var">S</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> (<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#551273a97148152a3455afc6e47327f1"><span class="id" title="notation">/?</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#im_vars"><span class="id" title="definition">im_vars</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">gen</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">v</span> <span class="id" title="var">S</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#Problem_vars_add"><span class="id" title="lemma">Problem_vars_add</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHC</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHC</span> <span class="id" title="var">C</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_dom_eq_dom_rec"><span class="id" title="lemma">In_dom_eq_dom_rec</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#im_rec"><span class="id" title="definition">im_rec</span></a>. <span class="id" title="tactic">induction</span> (<a class="idref" href="Substs.html#dom_rec"><span class="id" title="definition">dom_rec</span></a> <span class="id" title="var">S</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHC</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subterms_subs"><span class="id" title="lemma">subterms_subs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">exists</span></a> <span class="id" title="var">pi</span><a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><span class="id" title="var">pi</span><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) (<a class="idref" href="Terms.html#subterms"><span class="id" title="definition">subterms</span></a> (<a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">pi</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pi</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro1"><span class="id" title="lemma">set_add_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">pi</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pi</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro1"><span class="id" title="lemma">set_add_intro1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">pi</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pi</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro1"><span class="id" title="lemma">set_add_intro1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">pi</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pi</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_intro1"><span class="id" title="lemma">set_add_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Terms.html#In_subterms"><span class="id" title="lemma">In_subterms</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="psubterms_subs"><span class="id" title="lemma">psubterms_subs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span> <span class="id" title="var">t</span>,   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">pi</span>, <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Substs.html#pi"><span class="id" title="variable">pi</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">exists</span></a> <span class="id" title="var">pi</span><a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> (<a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">(</span></a><span class="id" title="var">pi</span><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">)|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) (<a class="idref" href="Terms.html#psubterms"><span class="id" title="definition">psubterms</span></a> (<a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subterms_subs"><span class="id" title="lemma">subterms_subs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">S</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">pi</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">pi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Terms.html#psubterms"><span class="id" title="definition">psubterms</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">perm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> : <a class="idref" href="Terms.html#term_size"><span class="id" title="definition">term_size</span></a> (<span class="id" title="var">pi</span> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a><a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Terms.html#term_size"><span class="id" title="definition">term_size</span></a> (<a class="idref" href="Terms.html#648ab9f94c023f8f1fd9d39972ac6713"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="Terms.html#648ab9f94c023f8f1fd9d39972ac6713"><span class="id" title="notation">]^(</span></a><span class="id" title="var">t</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><span class="id" title="var">S</span><a class="idref" href="Terms.html#648ab9f94c023f8f1fd9d39972ac6713"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subterms_subs"><span class="id" title="lemma">subterms_subs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">S</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">pi'</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Terms.html#subterms_term_size_leq"><span class="id" title="lemma">subterms_term_size_leq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Perm.html#perm_term_size"><span class="id" title="lemma">perm_term_size</span></a> <span class="id" title="keyword">in</span> *|-. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> : <a class="idref" href="Terms.html#term_size"><span class="id" title="definition">term_size</span></a> (<span class="id" title="var">pi</span> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a><a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Terms.html#term_size"><span class="id" title="definition">term_size</span></a> (<a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">&lt;|</span></a> <span class="id" title="var">t1</span> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a> <span class="id" title="var">S</span><a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">,</span></a> <span class="id" title="var">t2</span> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a> <span class="id" title="var">S</span> <a class="idref" href="Terms.html#3a3cf46873f4d96880aff7259915cf4d"><span class="id" title="notation">|&gt;</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subterms_subs"><span class="id" title="lemma">subterms_subs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">S</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">pi'</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Terms.html#subterms_term_size_leq"><span class="id" title="lemma">subterms_term_size_leq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Perm.html#perm_term_size"><span class="id" title="lemma">perm_term_size</span></a> <span class="id" title="keyword">in</span> *|-; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Q</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> : <a class="idref" href="Terms.html#term_size"><span class="id" title="definition">term_size</span></a> (<span class="id" title="var">pi</span> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a><a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">X</span> <span class="id" title="var">S</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Terms.html#term_size"><span class="id" title="definition">term_size</span></a> (<a class="idref" href="Terms.html#Fc"><span class="id" title="constructor">Fc</span></a> <span class="id" title="var">n</span> <span class="id" title="var">n0</span> (<span class="id" title="var">t</span> <a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a> <span class="id" title="var">S</span>))).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#subterms_subs"><span class="id" title="lemma">subterms_subs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">S</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">pi'</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Terms.html#subterms_term_size_leq"><span class="id" title="lemma">subterms_term_size_leq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Perm.html#perm_term_size"><span class="id" title="lemma">perm_term_size</span></a> <span class="id" title="keyword">in</span> *|-. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>. <span class="id" title="var">false</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">p</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="equ_proj_subs_fresh"><span class="id" title="lemma">equ_proj_subs_fresh</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S</span>, <a class="idref" href="Problems.html#equ_proj"><span class="id" title="definition">equ_proj</span></a> (<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#551273a97148152a3455afc6e47327f1"><span class="id" title="notation">/?</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">v</span> <span class="id" title="var">S</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="Problems.html#Constraint_eqdec"><span class="id" title="lemma">Constraint_eqdec</span></a> (<span class="id" title="var">a</span> <a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">#?</span></a> <a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">(</span></a><a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="Perm.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="Substs.html#look_up"><span class="id" title="definition">look_up</span></a> <span class="id" title="var">v</span> <span class="id" title="var">S</span><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">C</span> <a class="idref" href="Substs.html#551273a97148152a3455afc6e47327f1"><span class="id" title="notation">/?</span></a> <span class="id" title="var">S</span>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ListFacts.html#set_add_In"><span class="id" title="lemma">set_add_In</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ListFacts.html#set_add_not_In"><span class="id" title="lemma">set_add_not_In</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Problems.html#equ_proj_append"><span class="id" title="lemma">equ_proj_append</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHC</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="equ_proj_subs"><span class="id" title="lemma">equ_proj_subs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">S</span>, <a class="idref" href="Problems.html#equ_proj"><span class="id" title="definition">equ_proj</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">(</span></a><a class="idref" href="Problems.html#equ_proj"><span class="id" title="definition">equ_proj</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)|^^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">fequals</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="equ_subs_fresh"><span class="id" title="lemma">equ_subs_fresh</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> (<a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">~?</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#551273a97148152a3455afc6e47327f1"><span class="id" title="notation">/?</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">v</span> <span class="id" title="var">S</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_elim"><span class="id" title="lemma">set_add_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="not_occurs_Problem"><span class="id" title="lemma">not_occurs_Problem</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Substs.html#not_occurs"><span class="id" title="lemma">not_occurs</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHP</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Substs.html#not_occurs"><span class="id" title="lemma">not_occurs</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHP</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_im_subst_term_Problem"><span class="id" title="lemma">In_im_subst_term_Problem</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term"><span class="id" title="lemma">In_im_subst_term</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span>:=<span class="id" title="var">t0</span>) | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span>]; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term"><span class="id" title="lemma">In_im_subst_term</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span>:=<span class="id" title="var">t0</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term"><span class="id" title="lemma">In_im_subst_term</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span>:=<span class="id" title="var">t1</span>) | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span>]; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_im_subst_term_Problem'"><span class="id" title="lemma">In_im_subst_term_Problem'</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span>,  <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term'"><span class="id" title="lemma">In_im_subst_term'</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term'"><span class="id" title="lemma">In_im_subst_term'</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term'"><span class="id" title="lemma">In_im_subst_term'</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_subst_Problem_im_1"><span class="id" title="lemma">In_subst_Problem_im_1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)</span></a>))  .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_1"><span class="id" title="lemma">set_remove_1</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_2"><span class="id" title="lemma">set_remove_2</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_terms_im_1"><span class="id" title="lemma">In_subst_terms_im_1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_nodup"><span class="id" title="lemma">set_union_nodup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_term_vars"><span class="id" title="lemma">NoDup_term_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_Problem_vars"><span class="id" title="lemma">NoDup_Problem_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_1"><span class="id" title="lemma">set_remove_1</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_2"><span class="id" title="lemma">set_remove_2</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_terms_im_1"><span class="id" title="lemma">In_subst_terms_im_1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_terms_im_1"><span class="id" title="lemma">In_subst_terms_im_1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_nodup"><span class="id" title="lemma">set_union_nodup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_term_vars"><span class="id" title="lemma">NoDup_term_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_nodup"><span class="id" title="lemma">set_union_nodup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_term_vars"><span class="id" title="lemma">NoDup_term_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_Problem_vars"><span class="id" title="lemma">NoDup_Problem_vars</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_subst_Problem_im_2"><span class="id" title="lemma">In_subst_Problem_im_2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_terms_im_2"><span class="id" title="lemma">In_subst_terms_im_2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_terms_im_2"><span class="id" title="lemma">In_subst_terms_im_2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_terms_im_2"><span class="id" title="lemma">In_subst_terms_im_2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="In_subst_Problem_im"><span class="id" title="lemma">In_subst_Problem_im</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">P</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>)) (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)</span></a>))  .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_Problem_im_1"><span class="id" title="lemma">In_subst_Problem_im_1</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_Problem_im_2"><span class="id" title="lemma">In_subst_Problem_im_2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="set_In_subs_problem"><span class="id" title="lemma">set_In_subs_problem</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">P</span> <span class="id" title="var">S</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> (<a class="idref" href="Substs.html#subs_Constraint"><span class="id" title="definition">subs_Constraint</span></a> <a class="idref" href="Substs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>~. <span class="id" title="tactic">right</span>~. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>~. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="set_In_subs_remove_problem"><span class="id" title="lemma">set_In_subs_remove_problem</span></a>  : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">u'</span> <span class="id" title="var">S</span> <span class="id" title="var">P</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#u"><span class="id" title="variable">u</span></a> (<a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Problems.html#e4e320cd04cec67d6116c1fa82bd6873"><span class="id" title="notation">\</span></a><a class="idref" href="Substs.html#u'"><span class="id" title="variable">u'</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)|^^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#u"><span class="id" title="variable">u</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *|-*. <span class="id" title="var">gen</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="Problems.html#Constraint_eqdec"><span class="id" title="lemma">Constraint_eqdec</span></a> <span class="id" title="var">u'</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>~. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>|-*;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">left</span>~. <span class="id" title="tactic">right</span>~. <span class="id" title="tactic">left</span>~. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="set_In_subs"><span class="id" title="lemma">set_In_subs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">S</span> <span class="id" title="var">P</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#u"><span class="id" title="variable">u</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">exists</span></a> <span class="id" title="var">u'</span><a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">,</span></a> <a class="idref" href="Substs.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Substs.html#subs_Constraint"><span class="id" title="definition">subs_Constraint</span></a> <span class="id" title="var">u'</span> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <span class="id" title="var">u'</span> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">#?</span></a><span class="id" title="var">t</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_Constraint"><span class="id" title="definition">subs_Constraint</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>~. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u'</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">u'</span>. <span class="id" title="tactic">split</span>~. <span class="id" title="tactic">right</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">t</span><a class="idref" href="Problems.html#ea843093319e28f1594b3368ec53cf2f"><span class="id" title="notation">~?</span></a><span class="id" title="var">t0</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Substs.html#subs_Constraint"><span class="id" title="definition">subs_Constraint</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>~. <span class="id" title="tactic">left</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHP</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">u'</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">u'</span>. <span class="id" title="tactic">split</span>~. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="set_In_subs_fresh_constraints"><span class="id" title="lemma">set_In_subs_fresh_constraints</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span> <span class="id" title="var">S</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> (<a class="idref" href="Substs.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="Problems.html#82f866e8d2589499aa157fa869877165"><span class="id" title="notation">#?</span></a><a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a>) (<a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Substs.html#551273a97148152a3455afc6e47327f1"><span class="id" title="notation">/?</span></a> <a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">exists</span></a> <span class="id" title="var">X</span><a class="idref" href="LibTactics.html#4c37c8c4962302e6de2564ace1cb4838"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Substs.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="Substs.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="ListFacts.html#af522e7bcd6f546a086933f85f4775b4"><span class="id" title="notation">[]</span></a><a class="idref" href="Terms.html#7b7feb98f68454527daa8ce5299d2efb"><span class="id" title="notation">|.</span></a><span class="id" title="var">X</span><a class="idref" href="Substs.html#76e871ea0aad2343e567401e6b34637e"><span class="id" title="notation">|^</span></a><a class="idref" href="Substs.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">gen</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="Substs.html#In_dom_dec"><span class="id" title="lemma">In_dom_dec</span></a> <span class="id" title="var">v</span> <span class="id" title="var">S</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_add_elim"><span class="id" title="lemma">set_add_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHC</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">split</span>~. <span class="id" title="tactic">right</span>~.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHC</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">split</span>~. <span class="id" title="tactic">right</span>~.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="length_Problem_vars_subs"><span class="id" title="lemma">length_Problem_vars_subs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">X</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In"><span class="id" title="definition">set_In</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> (<a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">|^^(</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="ListFacts.html#f3e214866e2119d9deedec43b0cb7c8d"><span class="id" title="notation">]</span></a><a class="idref" href="Substs.html#5bfba28cfff5ffb3fc6ca39b463ebba3"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" title="definition">set_union</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove"><span class="id" title="definition">set_remove</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> <a class="idref" href="Substs.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Problems.html#Problem_vars"><span class="id" title="definition">Problem_vars</span></a> <a class="idref" href="Substs.html#P"><span class="id" title="variable">P</span></a>)) (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="Substs.html#t"><span class="id" title="variable">t</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#subset_list_eq"><span class="id" title="lemma">subset_list_eq</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_Problem_vars"><span class="id" title="lemma">NoDup_Problem_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_nodup"><span class="id" title="lemma">set_union_nodup</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ListFacts.html#remove_eq_set_remove"><span class="id" title="lemma">remove_eq_set_remove</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ListFacts.html#NoDup_remove_3"><span class="id" title="lemma">NoDup_remove_3</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_Problem_vars"><span class="id" title="lemma">NoDup_Problem_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_Problem_vars"><span class="id" title="lemma">NoDup_Problem_vars</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Problems.html#NoDup_term_vars"><span class="id" title="lemma">NoDup_term_vars</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>~; <span class="id" title="tactic">intro</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_In_dec"><span class="id" title="lemma">set_In_dec</span></a> <a class="idref" href="Terms.html#Var_eqdec"><span class="id" title="lemma">Var_eqdec</span></a> <span class="id" title="var">X</span> (<a class="idref" href="Terms.html#term_vars"><span class="id" title="definition">term_vars</span></a> <span class="id" title="var">t</span>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="var">b</span> <a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">==</span></a><a class="idref" href="Terms.html#4cd4720e99b91965ab4ab8e10c0b7b73"><span class="id" title="notation">v</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term_Problem'"><span class="id" title="lemma">In_im_subst_term_Problem'</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H0'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term_Problem'"><span class="id" title="lemma">In_im_subst_term_Problem'</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" title="lemma">set_union_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" title="lemma">set_union_intro1</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_remove_3"><span class="id" title="lemma">set_remove_3</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_im_subst_term_Problem"><span class="id" title="lemma">In_im_subst_term_Problem</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" title="lemma">set_union_intro2</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substs.html#In_subst_Problem_im"><span class="id" title="lemma">In_subst_Problem_im</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>